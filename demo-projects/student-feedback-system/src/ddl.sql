DROP SCHEMA FEEDBACK IF EXISTS;
CREATE SCHEMA FEEDBACK;
set schema FEEDBACK;

CREATE TABLE USER(
ID NUMBER(10) PRIMARY KEY auto_increment,
UNAME VARCHAR2(255) UNIQUE,
PASSWORD VARCHAR2(255),
FNAME VARCHAR2(255),
LNAME VARCHAR2(255),
UTYPE VARCHAR2(25)
); 


CREATE TABLE COURSE(
ID NUMBER(10) PRIMARY KEY auto_increment,
NAME VARCHAR2(255) NOT NULL,
);

CREATE TABLE SUBJECT(
ID NUMBER(10) PRIMARY KEY auto_increment,
NAME VARCHAR2(255) NOT NULL,
);

CREATE TABLE SEMESTER (
ID NUMBER(10) PRIMARY KEY auto_increment,
NAME VARCHAR2(255) NOT NULL,
COURSE_ID NUMBER(10),
FOREIGN KEY (COURSE_ID) REFERENCES COURSE(ID),
);

CREATE TABLE SEMESTER_SUBJECT_FACULTY(
ID NUMBER(10) PRIMARY KEY auto_increment,
SEMESTER_ID NUMBER(10),
SUBJECT_ID NUMBER(10),
FACULTY_ID NUMBER(10),
FOREIGN KEY (SEMESTER_ID) REFERENCES SEMESTER(ID),
FOREIGN KEY (SUBJECT_ID) REFERENCES SUBJECT(ID),
FOREIGN KEY (FACULTY_ID) REFERENCES USER(ID)
);

CREATE TABLE FEEDBACK_CONFIG(
ID NUMBER(10) PRIMARY KEY,
ATTRIBUTE VARCHAR2(255) NOT NULL,
ATTRIBUTE_DESC VARCHAR2(255) NOT NULL
);




CREATE TABLE STUDENT_SEM_ENROLL(
ID NUMBER(10) PRIMARY KEY auto_increment,
STUDENT_ID NUMBER(10),
COURSE_ID NUMBER(10),
SEMESTER_ID NUMBER(10),
FOREIGN KEY (STUDENT_ID) REFERENCES USER(ID),
FOREIGN KEY (COURSE_ID) REFERENCES COURSE(ID),
FOREIGN KEY (SEMESTER_ID) REFERENCES SEMESTER(ID)
);


CREATE TABLE FEEDBACK(
ID NUMBER(10) PRIMARY KEY auto_increment,
FEEDBACK_CONFIG_ID NUMBER(10) NOT NULL,
STUDENT_ID NUMBER(10),
SEM_SUB_FAC_ID NUMBER(10),
FOREIGN KEY (FEEDBACK_CONFIG_ID) REFERENCES FEEDBACK_CONFIG(ID),
FOREIGN KEY (STUDENT_ID) REFERENCES USER(ID),
FOREIGN KEY (SEM_SUB_FAC_ID) REFERENCES SEMESTER_SUBJECT_FACULTY(ID),
EVALUATION NUMBER(4,2)
);












INSERT INTO USER VALUES(101,'GARGI','PASSWORD','GARGI','MUKHERJEE','STUDENT');
INSERT INTO USER VALUES(102,'SAGAR','PASSWORD','SAGAR','MUKHERJEE','STUDENT');
INSERT INTO USER VALUES(501,'ANKITA','PASSWORD','ANKITA', 'GANGULY', 'ADMIN');
--FACULTIES
--INSERT INTO USER VALUES(801,'BARSHA','PASSWORD','Barsha','Mukherjee','FACULTY');
INSERT INTO USER VALUES(802,'SOUMEN','PASSWORD','SOUMEN','SANTRA','FACULTY');
INSERT INTO USER VALUES(803,'HEMANTA','PASSWORD','HEMANTA','DEY','FACULTY');
INSERT INTO USER VALUES(804,'SUBHODIP','PASSWORD','SUBHODIP','MUKHERJEE','FACULTY');
INSERT INTO USER VALUES(805,'SORBANI','PASSWORD','SARBANI','GHOSH','FACULTY');
INSERT INTO USER VALUES(806,'ELIAS','PASSWORD','ELIAS','BISAS','FACULTY');


INSERT INTO FEEDBACK.COURSE(NAME) VALUES('MCA');
INSERT INTO FEEDBACK.COURSE(NAME) VALUES('BCA');

INSERT INTO SUBJECT(NAME) VALUES('JAVA');
INSERT INTO SUBJECT(NAME) VALUES('C');
INSERT INTO SUBJECT(NAME) VALUES('ISAD');
INSERT INTO SUBJECT(NAME) VALUES('UNIX');
INSERT INTO SUBJECT(NAME) VALUES('C++');
INSERT INTO SUBJECT(NAME) VALUES('Maths');
INSERT INTO SUBJECT(NAME) VALUES('DBMS');

--FOR MCA
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(1, 'Semester 1', 1);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(2, 'Semester 2', 1);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(3, 'Semester 3', 1);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(4, 'Semester 4', 1);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(5, 'Semester 5', 1);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(6, 'Semester 6', 1);
--FOR bca 
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(7, 'Semester 1', 2);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(8, 'Semester 2', 2);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(9, 'Semester 3', 2);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(10, 'Semester 4', 2);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(11, 'Semester 5', 2);
INSERT INTO FEEDBACK.SEMESTER(ID, NAME, COURSE_ID) VALUES(12, 'Semester 6', 2);

--MCA FIRST SEM
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(1, 1,801);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(1, 2,802);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(1, 3,803);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(1, 4,804);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(1, 5,805);
--MCA SECOND SEM
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(2, 1,806);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(2, 2,801);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(2, 3,802);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(2, 4,803);
INSERT INTO SEMESTER_SUBJECT_FACULTY(SEMESTER_ID, SUBJECT_ID, FACULTY_ID) VALUES(2, 5,804);

delete from FEEDBACK_CONFIG;
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(1,'DEPTH','DEPTH_IN_SUBJECT');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(2,'COMM_SKILL','COMMUNICATION_SKILL');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(3,'RELATION','RELATIONSHIP_WITH_STUDENT');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(4,'CONFIDENCE','CONFIDENCE_IN_TEACHING');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(5,'PATIENCE','PATIENCE');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(6,'COMFORT','HOW FREE YOU FEEL TO ASK A QUESTION?');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(7,'PUNCTUALITY','HOW PUNCTUAL THE TEACHER IS');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(8,'INTEREST','HOW INTERSTING THE CLASS IS');
INSERT INTO FEEDBACK_CONFIG(ID, ATTRIBUTE, ATTRIBUTE_DESC)  VALUES(9,'NOTES','HOW RELEVANT IS THAT NOTES TO STUDY');


INSERT INTO STUDENT_COURSE_SEM_ENROLL(STUDENT_ID, COURSE_ID,SEMESTER_ID) VALUES(101,1,1);
INSERT INTO STUDENT_COURSE_SEM_ENROLL(STUDENT_ID, COURSE_ID,SEMESTER_ID) VALUES(102,2,2);





--INSERT INTO FEEDBACK VALUES(501,1,123,401,'GOOD');